# 一、主題說明&動機

人的身體是敏感的，一點生活習慣的變化都可能會對健康造成影響。現代人大多運動較少，也有睡眠及壓力大等困擾，不外乎跟不良生活習慣有關。而由心率每15秒回報一次可得知運動期間使用者準確運動情形及睡眠期間對應睡眠品質的關係。

於是我們決定以心率為主軸，依據使用者每日的生活習慣(EX:運動量、主要運動時間)結合壓力、睡眠品質的數據進行分析

# 二、過去相關研究

國外一項研究指出心率長期低於50次/分或超過80次/分都會使死亡率增高，國內的大規模樣本調查也發現，心率過快的人壽命比一般人要短。相比之下，心跳60次/分的人壽命高於70次/分的人，而心跳70次/分的人壽命又高於80次/分的人。

另一個美國運動醫學會研究指出，健康成人的有效運動心率為最大心跳率的60%～85%之間，而最大心跳率為220減去實際年齡。舉一個50歲成人為例，最大心跳率為220-50（實際年齡）=170，而有效運動心率則在102（170×60%）～136（170×80%）下之間。

# 三、資料處理

## dailies

1. 清除完全重複的數值

2. 將時間戳記轉換成datetime，再把日期和時間分開

3. 清除[averageStressLevel] 為負值的資料

4. 清除手環重複同步的資料，**每個人同一天有不同筆資料(summaryId)**

* 由於需要的是一天中紀錄最完整的資料，所以以id為主，對[durationInSeconds]sort(這樣便會是由小到大的狀態)，再對個人[id]同一天[datetime]做篩選，如有重複只留下排在後面的。

### =>處理完後有513筆資料

## dailies_heartrate

1. 將三個dailies_heartrate資料合併

2. 將dailies和dailies_heartrate裡面**可相互串聯的資料用[summaryId]挑出**
    
3. 用**[summaryId]** 將dailies的[secondIntime]串聯 dailies_heartrate

### =>dailies_heartrate剩下140萬筆資料；dailies剩下300多筆資料

## 挑出白天活動的時段

* 首先把dailies_heartrate的資料做整理，得出每個時間點的心率資料量，再畫出一條平均線。

![image]()

* 可看出早上7點到晚上8點是資料量比較足夠的時段，由此可知多數人回家後或睡前就沒有配戴手環。所以抓出早上7點到晚上8點這時段的資料作為白天活動的心率。

* 以一天3000筆以上為主(在13個小時以內抓30分鐘(佔整體3.8%時間)為容錯範圍，接受因裝置或配戴問題造成的資料缺失)，即白天累積資料要達到12.5個以上才會採用。

